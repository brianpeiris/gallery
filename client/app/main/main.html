<div class="icon-museum" ng-controller="MainCtrl">
    
  <div id="cell-view" ng-class="{cr:cr, ic: r.cellId||(set&&set.children_are_cells) ,fs:fs}">

    <section id="sheet">
    
      <div id="space" sp-kbd="['space', 'right', 'j', 'down', 'pagedown']" ng-class="spaceClass" ng-controller="3DController">
        <three-viewport></three-viewport>
        <span id="toolbarSpan">
          <h1 style="color:#fff;margin-top:2px;"><span style="margin-top:10px;">Toolbar:</span>
          <button class="toolbaroverlaybutton" sp-tap="resetCamera()" title="Reset Camera (r)" sp-kbd="'r'">
              <span class="overlaybutton-inner fa fa-video-camera"></span>
          </button>

          <button class="toolbaroverlaybutton" sp-tap="toggle('toggleCamera')" title="Toggle Perspective Camera (p)" sp-kbd="'p'">
              <span class="overlaybutton-inner fa fa-street-view"></span>
          </button>

          <button class="toolbaroverlaybutton" sp-tap="fs=!fs;fullscreen()" title="Toggle Fullscreen Mode (f)" sp-kbd="'f'">
            <span class="overlaybutton-inner" ng-class="fs&&'icon-min'||'icon-max'"></span>
        </button>

          <button class="toolbaroverlaybutton" sp-tap="openSettings()" title="Settings (s)" sp-kbd="'s'">
              <span class="overlaybutton-inner fa fa-cog"></span>
          </button>
          </h1>
        </span>
      </div>
    
      <button class="overlaybutton" sp-tap="p(r.setId&&'set/'+r.setId + '/'||r.view+'/')" id="back-button">
        <span class="overlaybutton-inner icon-back"></span>
      </button>
      <!-- fa fa-caret-square-o-left -->

      <button class="overlaybutton" sp-tap="toggleMenu()" title="Toggle Navigation Menu (m)" sp-kbd="'m'" id="fullscreen-button">
          <span ng-class="menuToggleBtnClass"></span>
      </button>
      <!-- <button class="overlaybutton" sp-tap="fs=!fs;fullscreen()" title="Toggle Fullscreen Mode (f)" sp-kbd="'f'" id="fullscreen-button">
          <span class="overlaybutton-inner" ng-class="fs&&'icon-min'||'icon-max'"></span>
      </button> -->
      
      <button class="overlaybutton" sp-tap="cr=!cr" title="Toggle More Info Screen" sp-kbd="'i'" id="aside-button">
          <span class="overlaybutton-inner icon-info"></span>
      </button>
      <!-- <button class="overlaybutton" sp-tap="resetCamera()" title="Reset Camera" sp-kbd="'r'" id="camera-button">
          <span class="overlaybutton-inner fa fa-video-camera"></span>
      </button>

      <button class="overlaybutton" sp-tap="toggle('toggleCamera')" title="Toggle Perspective Camera" sp-kbd="'p'" id="bl-button">
          <span class="overlaybutton-inner fa fa-street-view"></span>
      </button>

      <button class="overlaybutton" sp-tap="openSettings()" title="Settings" sp-kbd="'s'" id="bl-button">
          <span class="overlaybutton-inner fa fa-cog"></span>
      </button> -->
    </section>
  
    <aside resizable r-directions="['left']" r-min-width="500" style="max-width:100vw;">
      <article id="info">
          <h1>{{cells.get(r.cellId).name}}</h1>
          <h2 style="text-align: center;">Stratification Data</h2>
          
          <div ng-controller="StratificationController" style="margin: 5px">
            <chart bindto-id="chart-stratification"  chart="chart"  
            on-legend-click="onLegendClick(cellId)"
            on-legend-mouseover="onLegendMouseover(cellId)"
            on-legend-mouseout="onLegendMouseout(cellId)"></chart>
          </div> 

          <ul class="list">
              <li>
                  <div class="group" sp-if="r.view == 'catalog' && auth.isAdmin()">
                    <a  sp-tap="modal('components/confirm.html')" class="btn danger icon-bin flex"></a>
                  </div>
              </li>
          
              <li  sp-if="cells.get(r.cellId).description.length > 0">
                  <q>{{_.description}}</q>
                  {{cells.get(r.cellId).description}}
              </li>
          
              <li class="drop" sp-tap="c=!c" ng-class="{'active':c}" sp-if="cells.get(r.cellId).copyright.length > 0">
                  <q>{{_.copyright}}</q>
                  <p ng-show="c">{{cells.get(r.cellId).copyright}}</p>
              </li>
          

          </ul>
          <div style="text-align:center;" sp-if="cells.get(r.cellId).description.length > 0">
            <h2 style="margin-bottom:10px;"><span style="text-decoration: underline;">Wiki Overview</span> (<a style="text-decoration: underline;" target="_blank" href="http://google.com">see more...</a>)</h2>

            <p style="overflow-x:scroll; max-height:500px;line-height: 150%; width:90%; text-align:justify; margin: 0 auto; padding-bottom:20px;">{{cells.get(r.cellId).description}}<br><br><a class="btn btn-info" href="">Help Contribute!</a></p>
          </div>
          <div style="text-align:center;" sp-if="!cells.get(r.cellId).description.length">
            <h2 style="margin-bottom:10px;"><span style="text-decoration: underline;">Wiki Overview</span></h2>

            <p style="overflow-x:scroll; max-height:500px;line-height: 150%; width:90%; text-align:center; margin: 0 auto; padding-bottom:20px;">We do not currently have a wiki page for this class yet.<br><br><a class="btn btn-info" href="">Help Contribute!</a></p>

          </div>
      </article>
    </aside>
  </div>
  
  <aside id="menu">
  
    <ul>   
      <li sp-tap="p('sets/')" ng-class="{open: r.view == 'sets'}">
        <i class="icon-sets"></i>
        <span>{{_.sets}}</span>
      </li>

      <li sp-tap="p('catalog/')" sp-kbd="'b'" ng-class="{open: r.view == 'catalog'}">
        <i class="icon-book"></i>
        <span>{{_.catalog}}</span>
      </li>
   
      <li sp-tap="p('search/')" sp-kbd="'/'" ng-class="{open: r.view == 'search'}">
        <i class="icon-search"></i>
        <span>{{_.search}}</span>
      </li>
   
      <li sp-tap="modal('components/settings.html')" sp-kbd="[',', 'command+,', 'control+,']">
        <i class="icon-cog"></i>
        <span>{{_.settings}}</span>
      </li>
  
    </ul>
  </aside>
  
  <div ng-include="'app/menu/navigation.html'"></div>

</div>